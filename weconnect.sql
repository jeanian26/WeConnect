-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Nov 20, 2021 at 02:33 PM
-- Server version: 10.4.21-MariaDB
-- PHP Version: 7.3.31

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `weconnect`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `addPosition` (IN `test` VARCHAR(50))  BEGIN
	INSERT INTO position (position_name) VALUES (test);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `addUser` (IN `uEmail` VARCHAR(50), IN `uPassword` VARCHAR(100), IN `uFirstName` VARCHAR(50), IN `uLastName` VARCHAR(50), IN `uPhoneNumber` VARCHAR(11), IN `uPosition` INT(1))  BEGIN
INSERT INTO users (Email, Pass, FirstName, LastName, PhoneNumber, Position) VALUES (uEmail, uPassword, uFirstName, uLastName, uPhoneNumber, uPosition);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `deleteUser` (IN `uid` INT(11))  BEGIN
DELETE FROM users WHERE id = uid;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `SelectAllPostions` ()  BEGIN
	SELECT * FROM position;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `SelectAllUsers` ()  BEGIN
	SELECT * FROM users;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `selectPositionID` (IN `uID` INT(11))  BEGIN
	SELECT * FROM position WHERE id = uID;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `selectUserEmail` (IN `uEmail` VARCHAR(50))  BEGIN
	SELECT * FROM users WHERE email = uEmail;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `selectUserID` (IN `uID` INT(11))  BEGIN
	SELECT * FROM users WHERE id = uID;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `updateUser` (IN `uEmail` VARCHAR(50), IN `uFirstname` VARCHAR(50), IN `uLastName` VARCHAR(50), IN `uPhoneNumber` VARCHAR(11), IN `uPosition` INT(11), IN `uID` INT(11))  BEGIN
UPDATE users SET Email = uEmail, FirstName = uFirstname, LastName= uLastName, PhoneNumber=uPhoneNumber, Position = uPosition WHERE id = uID;

END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `position`
--

CREATE TABLE `position` (
  `id` int(11) NOT NULL,
  `position_name` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `position`
--

INSERT INTO `position` (`id`, `position_name`) VALUES
(1, 'admin'),
(2, 'District Supervisor'),
(3, 'Grade Chairman'),
(4, 'Teacher'),
(5, 'Principal'),
(38, 'test');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `ID` int(11) NOT NULL,
  `Email` varchar(50) NOT NULL,
  `Pass` varchar(100) NOT NULL,
  `FirstName` varchar(50) NOT NULL,
  `LastName` varchar(50) NOT NULL,
  `PhoneNumber` varchar(11) NOT NULL,
  `Position` int(11) NOT NULL,
  `DateCreated` datetime NOT NULL DEFAULT current_timestamp(),
  `ProfilePicture` blob NOT NULL DEFAULT '/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjZmOTgyYThhLTA2YzUtNDJkMC05YmU3LWI1NDQ3ZjRmNzhlNTwv'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`ID`, `Email`, `Pass`, `FirstName`, `LastName`, `PhoneNumber`, `Position`, `DateCreated`, `ProfilePicture`) VALUES
(82, 'admin@gmail.com', '89805776bf3dbcf0bad0bce14704d89eccde55cef2cd7cf6f068010d2ceb9480', 'super', 'admin', '+4497511601', 1, '2021-11-18 08:36:42', 0x2f396a2f34414151536b5a4a52674142415145424c4145734141442f34514257525868705a674141545530414b6741414141674142414561414155414141414241414141506745624141554141414142414141415267456f41414d4141414142414149414141495441414d414141414241414541414141414141414141414573414141414151414141537741414141422f2b30414c46426f62335276633268766343417a4c6a41414f454a4a5451514541414141414141504841466141414d624a556363415141414167414541502f684449466f644852774f693876626e4d7559575276596d5575593239744c336868634338784c6a41764144772f654842685932746c644342695a576470626a306e3737752f4a7942705a44306e567a564e4d4531775132566f61556836636d5654656b355559337072597a6c6b4a7a382b436a78344f6e68746347316c6447456765473173626e4d366544306e59575276596d5536626e4d36625756305953386e4948673665473177644773394a306c745957646c4f6a704665476c6d56473976624341784d4334784d43632b436a78795a475936556b5247494868746247357a4f6e4a6b5a6a306e6148523063446f764c336433647935334d793576636d63764d546b354f5338774d6938794d6931795a47597463336c75644746344c57357a4979632b43676f6750484a6b5a6a70455a584e6a636d6c7764476c76626942795a47593659574a76645851394a79634b4943423462577875637a703061575a6d5053646f644852774f693876626e4d7559575276596d5575593239744c3352705a6d59764d5334774c79632b43694167504852705a6d5936556d567a6232783164476c76626c56756158512b4d6a777664476c6d5a6a70535a584e766248563061573975565735706444344b4943413864476c6d5a6a7059556d567a6232783164476c76626a347a4d4441764d54777664476c6d5a6a7059556d567a6232783164476c76626a344b4943413864476c6d5a6a705a556d567a6232783164476c76626a347a4d4441764d54777664476c6d5a6a705a556d567a6232783164476c76626a344b49447776636d526d4f6b526c63324e79615842306157397550676f4b494478795a4759365247567a59334a706348527062323467636d526d4f6d4669623356305053636e4369416765473173626e4d3665473177545530394a326830644841364c793975637935685a4739695a53356a62323076654746774c7a45754d4339746253386e50676f67494478346258424e5454704562324e316257567564456c45506d466b62324a6c4f6d527659326c6b4f6e4e3062324e724f6a5a6d4f546779595468684c544132597a55744e444a6b4d433035596d55334c5749314e4451335a6a526d4e7a686c4e547776),
(83, 'test@gmail.com', '89805776bf3dbcf0bad0bce14704d89eccde55cef2cd7cf6f068010d2ceb9480', 'test', 'test', '+4497511601', 2, '2021-11-18 09:06:53', 0x2f396a2f34414151536b5a4a52674142415145424c4145734141442f34514257525868705a674141545530414b6741414141674142414561414155414141414241414141506745624141554141414142414141415267456f41414d4141414142414149414141495441414d414141414241414541414141414141414141414573414141414151414141537741414141422f2b30414c46426f62335276633268766343417a4c6a41414f454a4a5451514541414141414141504841466141414d624a556363415141414167414541502f684449466f644852774f693876626e4d7559575276596d5575593239744c336868634338784c6a41764144772f654842685932746c644342695a576470626a306e3737752f4a7942705a44306e567a564e4d4531775132566f61556836636d5654656b355559337072597a6c6b4a7a382b436a78344f6e68746347316c6447456765473173626e4d366544306e59575276596d5536626e4d36625756305953386e4948673665473177644773394a306c745957646c4f6a704665476c6d56473976624341784d4334784d43632b436a78795a475936556b5247494868746247357a4f6e4a6b5a6a306e6148523063446f764c336433647935334d793576636d63764d546b354f5338774d6938794d6931795a47597463336c75644746344c57357a4979632b43676f6750484a6b5a6a70455a584e6a636d6c7764476c76626942795a47593659574a76645851394a79634b4943423462577875637a703061575a6d5053646f644852774f693876626e4d7559575276596d5575593239744c3352705a6d59764d5334774c79632b43694167504852705a6d5936556d567a6232783164476c76626c56756158512b4d6a777664476c6d5a6a70535a584e766248563061573975565735706444344b4943413864476c6d5a6a7059556d567a6232783164476c76626a347a4d4441764d54777664476c6d5a6a7059556d567a6232783164476c76626a344b4943413864476c6d5a6a705a556d567a6232783164476c76626a347a4d4441764d54777664476c6d5a6a705a556d567a6232783164476c76626a344b49447776636d526d4f6b526c63324e79615842306157397550676f4b494478795a4759365247567a59334a706348527062323467636d526d4f6d4669623356305053636e4369416765473173626e4d3665473177545530394a326830644841364c793975637935685a4739695a53356a62323076654746774c7a45754d4339746253386e50676f67494478346258424e5454704562324e316257567564456c45506d466b62324a6c4f6d527659326c6b4f6e4e3062324e724f6a5a6d4f546779595468684c544132597a55744e444a6b4d433035596d55334c5749314e4451335a6a526d4e7a686c4e547776);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `position`
--
ALTER TABLE `position`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`ID`),
  ADD UNIQUE KEY `Email` (`Email`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `position`
--
ALTER TABLE `position`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=39;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `ID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=86;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
